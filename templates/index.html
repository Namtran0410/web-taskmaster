<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Case Manager</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h2>Dự án</h2>
      <ul id="project-list">
      </ul>
      <button id="add-project">+ Thêm Dự án</button>
    </aside>

    <main class="main">
      <h1>Danh sách Test Case</h1>
      <button id="add-testcase">+ Thêm Test Case</button>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Tên Case</th>
            <th>Status</th>
            <th>Created date</th>
            <th>Finished date</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="testcase-table">
          <!-- Dữ liệu test case sẽ được render ở đây -->
        </tbody>
      </table>
    </main>
  </div>

  <!-- Popup Form cho dự án-->
  <div class="popup" id="popup-form">
    <div class="popup-content">
      <h3>Thêm Test Case</h3>
      <form id="project-form">
        <input type="text" placeholder="Tên dự án" required>
        <textarea placeholder="Description" required></textarea>
        <input type="text" placeholder="Owner">
        <div class="actions">
          <button id="saveButtonProject" type="submit" onclick="savePopupProject()">Lưu</button>
          <button type="button" onclick="closePopupProject()">Hủy</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Popup Form cho test case-->
  <div class="popup" id="popup-form-test-case">
    <div class="popup-content">
      <h3>Thêm Test Case</h3>
      <form id="test-case-form">
        <!-- Mã Test Case -->
        <input id="test-case-id-field" type="text" placeholder="Mã Test Case (VD: TC001)" required>

        <!-- Tên Test Case -->
        <input id="test-case-name-field" type="text" placeholder="Tên Test Case" required>

        <!-- Description -->
        <textarea placeholder="Mô tả (Description)" required></textarea>

        <!-- Precondition -->
        <textarea placeholder="Điều kiện tiên quyết (Precondition)" required></textarea>

        <!-- Status dropdown -->
        <select id="status-selector" required>
          <option value="">Chọn trạng thái</option>
          <option value="created">Created</option>
          <option value="verifying">Verifying</option>
          <option value="approved">Approved</option>
          <option value="rejected">Rejected</option>
          <option value="archived">Archived</option>
        </select>

        <!-- Ngày khởi tạo -->
        <input type="date" id="start-date" placeholder="Ngày khởi tạo" required>
        
        <!-- Step - Action - Expected -->
        <div id="detail-row">
          <div class="step-row">
            <input type="text" placeholder="Step" required>
            <textarea placeholder="Action" required></textarea>
            <textarea placeholder="Expected Result" required></textarea>
          </div>
        </div>


        <div class="actions">
          <button type="button" id="add-step-btn">+ Step</button>
          <button id="save-button-test-case" type="submit">Lưu</button>
          <button type="button" onclick="closePopupProject()">Hủy</button>
        </div>
      </form>
    </div>
  </div>

<script src="/static/js/mainFunction/project.js"></script>
<script src="/static/js/mainFunction/testcase.js"></script>
<script src="/static/js/action/view_test_case.js"></script>

</body>
</html>
